<!DOCTYPE html>
<html lang='en'>
<head>
<meta charset='utf-8' />
<title>Excalibur.Dispatch.Benchmarks.Memory.MemoryAllocationBenchmarks-20260202-162532</title>

<style type="text/css">
	table { border-collapse: collapse; display: block; width: 100%; overflow: auto; }
	td, th { padding: 6px 13px; border: 1px solid #ddd; text-align: right; }
	tr { background-color: #fff; border-top: 1px solid #ccc; }
	tr:nth-child(even) { background: #f8f8f8; }
</style>
</head>
<body>
<pre><code>
BenchmarkDotNet v0.15.4, Windows 11 (10.0.26200.7705)
Intel Core i9-14900K 3.20GHz, 1 CPU, 32 logical and 24 physical cores
.NET SDK 10.0.102
  [Host]     : .NET 10.0.2 (10.0.2, 10.0.225.61305), X64 RyuJIT x86-64-v3
  Job-CNUJVU : .NET 10.0.2 (10.0.2, 10.0.225.61305), X64 RyuJIT x86-64-v3
</code></pre>
<pre><code>InvocationCount=1  UnrollFactor=1  
</code></pre>

<table>
<thead><tr><th>Method                     </th><th>BatchSize</th><th>PayloadSize</th><th>Mean</th><th>Error</th><th>StdDev</th><th>Median</th><th>Ratio</th><th>RatioSD</th><th>Allocated</th><th>Alloc Ratio</th>
</tr>
</thead><tbody><tr><td>ProcessBatchWithArrayPool</td><td>10</td><td>256</td><td>1.466 &mu;s</td><td>0.1024 &mu;s</td><td>0.2920 &mu;s</td><td>1.400 &mu;s</td><td>1.03</td><td>0.27</td><td>-</td><td>NA</td>
</tr><tr><td>ProcessBatchWithoutArrayPool</td><td>10</td><td>256</td><td>1.157 &mu;s</td><td>0.0510 &mu;s</td><td>0.1431 &mu;s</td><td>1.100 &mu;s</td><td>0.82</td><td>0.17</td><td>104 B</td><td>NA</td>
</tr><tr><td>ProcessBatchWithList</td><td>10</td><td>256</td><td>1.362 &mu;s</td><td>0.0592 &mu;s</td><td>0.1641 &mu;s</td><td>1.300 &mu;s</td><td>0.96</td><td>0.20</td><td>136 B</td><td>NA</td>
</tr><tr><td>ProcessBatchChannelBatchUtilities</td><td>10</td><td>256</td><td>2.562 &mu;s</td><td>0.1548 &mu;s</td><td>0.4391 &mu;s</td><td>2.400 &mu;s</td><td>1.81</td><td>0.44</td><td>176 B</td><td>NA</td>
</tr><tr><td>ProcessPayloadsWithSpan</td><td>10</td><td>256</td><td>4.807 &mu;s</td><td>0.3027 &mu;s</td><td>0.8782 &mu;s</td><td>4.600 &mu;s</td><td>3.39</td><td>0.85</td><td>-</td><td>NA</td>
</tr><tr><td>ProcessPayloadsWithMemory</td><td>10</td><td>256</td><td>4.670 &mu;s</td><td>0.3096 &mu;s</td><td>0.8833 &mu;s</td><td>4.500 &mu;s</td><td>3.30</td><td>0.84</td><td>-</td><td>NA</td>
</tr><tr><td>BuildMetadataStringBuilder</td><td>10</td><td>256</td><td>1.057 &mu;s</td><td>0.0521 &mu;s</td><td>0.1477 &mu;s</td><td>1.000 &mu;s</td><td>0.75</td><td>0.17</td><td>848 B</td><td>NA</td>
</tr><tr><td>BuildMetadataInterpolation</td><td>10</td><td>256</td><td>1.518 &mu;s</td><td>0.0727 &mu;s</td><td>0.2026 &mu;s</td><td>1.500 &mu;s</td><td>1.07</td><td>0.23</td><td>1992 B</td><td>NA</td>
</tr><tr><td>BuildMetadataArrayJoin</td><td>10</td><td>256</td><td>1.605 &mu;s</td><td>0.0858 &mu;s</td><td>0.2405 &mu;s</td><td>1.600 &mu;s</td><td>1.13</td><td>0.26</td><td>848 B</td><td>NA</td>
</tr><tr><td>ProcessBatchWithArrayPool</td><td>10</td><td>1024</td><td>1.469 &mu;s</td><td>0.0740 &mu;s</td><td>0.2134 &mu;s</td><td>1.400 &mu;s</td><td>1.02</td><td>0.20</td><td>-</td><td>NA</td>
</tr><tr><td>ProcessBatchWithoutArrayPool</td><td>10</td><td>1024</td><td>1.102 &mu;s</td><td>0.0515 &mu;s</td><td>0.1452 &mu;s</td><td>1.100 &mu;s</td><td>0.77</td><td>0.14</td><td>104 B</td><td>NA</td>
</tr><tr><td>ProcessBatchWithList</td><td>10</td><td>1024</td><td>1.425 &mu;s</td><td>0.0648 &mu;s</td><td>0.1840 &mu;s</td><td>1.400 &mu;s</td><td>0.99</td><td>0.18</td><td>136 B</td><td>NA</td>
</tr><tr><td>ProcessBatchChannelBatchUtilities</td><td>10</td><td>1024</td><td>2.845 &mu;s</td><td>0.1841 &mu;s</td><td>0.5192 &mu;s</td><td>2.700 &mu;s</td><td>1.97</td><td>0.45</td><td>176 B</td><td>NA</td>
</tr><tr><td>ProcessPayloadsWithSpan</td><td>10</td><td>1024</td><td>6.517 &mu;s</td><td>0.2245 &mu;s</td><td>0.6477 &mu;s</td><td>6.400 &mu;s</td><td>4.52</td><td>0.76</td><td>-</td><td>NA</td>
</tr><tr><td>ProcessPayloadsWithMemory</td><td>10</td><td>1024</td><td>6.693 &mu;s</td><td>0.2930 &mu;s</td><td>0.8502 &mu;s</td><td>6.400 &mu;s</td><td>4.65</td><td>0.86</td><td>-</td><td>NA</td>
</tr><tr><td>BuildMetadataStringBuilder</td><td>10</td><td>1024</td><td>1.259 &mu;s</td><td>0.1053 &mu;s</td><td>0.2986 &mu;s</td><td>1.200 &mu;s</td><td>0.87</td><td>0.24</td><td>848 B</td><td>NA</td>
</tr><tr><td>BuildMetadataInterpolation</td><td>10</td><td>1024</td><td>2.003 &mu;s</td><td>0.1345 &mu;s</td><td>0.3901 &mu;s</td><td>1.900 &mu;s</td><td>1.39</td><td>0.33</td><td>1992 B</td><td>NA</td>
</tr><tr><td>BuildMetadataArrayJoin</td><td>10</td><td>1024</td><td>1.531 &mu;s</td><td>0.0647 &mu;s</td><td>0.1803 &mu;s</td><td>1.500 &mu;s</td><td>1.06</td><td>0.19</td><td>848 B</td><td>NA</td>
</tr><tr><td>ProcessBatchWithArrayPool</td><td>100</td><td>256</td><td>4.598 &mu;s</td><td>0.1278 &mu;s</td><td>0.3688 &mu;s</td><td>4.500 &mu;s</td><td>1.01</td><td>0.11</td><td>-</td><td>NA</td>
</tr><tr><td>ProcessBatchWithoutArrayPool</td><td>100</td><td>256</td><td>4.387 &mu;s</td><td>0.1574 &mu;s</td><td>0.4592 &mu;s</td><td>4.200 &mu;s</td><td>0.96</td><td>0.12</td><td>824 B</td><td>NA</td>
</tr><tr><td>ProcessBatchWithList</td><td>100</td><td>256</td><td>4.905 &mu;s</td><td>0.2094 &mu;s</td><td>0.6108 &mu;s</td><td>4.700 &mu;s</td><td>1.07</td><td>0.16</td><td>856 B</td><td>NA</td>
</tr><tr><td>ProcessBatchChannelBatchUtilities</td><td>100</td><td>256</td><td>9.280 &mu;s</td><td>1.1621 &mu;s</td><td>3.4082 &mu;s</td><td>8.700 &mu;s</td><td>2.03</td><td>0.76</td><td>896 B</td><td>NA</td>
</tr><tr><td>ProcessPayloadsWithSpan</td><td>100</td><td>256</td><td>10.825 &mu;s</td><td>0.2916 &mu;s</td><td>0.8413 &mu;s</td><td>10.600 &mu;s</td><td>2.37</td><td>0.26</td><td>-</td><td>NA</td>
</tr><tr><td>ProcessPayloadsWithMemory</td><td>100</td><td>256</td><td>10.735 &mu;s</td><td>0.2862 &mu;s</td><td>0.8211 &mu;s</td><td>10.500 &mu;s</td><td>2.35</td><td>0.25</td><td>-</td><td>NA</td>
</tr><tr><td>BuildMetadataStringBuilder</td><td>100</td><td>256</td><td>1.058 &mu;s</td><td>0.0582 &mu;s</td><td>0.1603 &mu;s</td><td>1.000 &mu;s</td><td>0.23</td><td>0.04</td><td>848 B</td><td>NA</td>
</tr><tr><td>BuildMetadataInterpolation</td><td>100</td><td>256</td><td>1.743 &mu;s</td><td>0.1127 &mu;s</td><td>0.3269 &mu;s</td><td>1.700 &mu;s</td><td>0.38</td><td>0.08</td><td>1992 B</td><td>NA</td>
</tr><tr><td>BuildMetadataArrayJoin</td><td>100</td><td>256</td><td>1.487 &mu;s</td><td>0.0637 &mu;s</td><td>0.1775 &mu;s</td><td>1.450 &mu;s</td><td>0.33</td><td>0.05</td><td>848 B</td><td>NA</td>
</tr><tr><td>ProcessBatchWithArrayPool</td><td>100</td><td>1024</td><td>4.218 &mu;s</td><td>0.0857 &mu;s</td><td>0.1053 &mu;s</td><td>4.200 &mu;s</td><td>1.00</td><td>0.03</td><td>-</td><td>NA</td>
</tr><tr><td>ProcessBatchWithoutArrayPool</td><td>100</td><td>1024</td><td>4.035 &mu;s</td><td>0.0822 &mu;s</td><td>0.1788 &mu;s</td><td>4.000 &mu;s</td><td>0.96</td><td>0.05</td><td>824 B</td><td>NA</td>
</tr><tr><td>ProcessBatchWithList</td><td>100</td><td>1024</td><td>4.753 &mu;s</td><td>0.1534 &mu;s</td><td>0.4498 &mu;s</td><td>4.600 &mu;s</td><td>1.13</td><td>0.11</td><td>856 B</td><td>NA</td>
</tr><tr><td>ProcessBatchChannelBatchUtilities</td><td>100</td><td>1024</td><td>7.965 &mu;s</td><td>0.5681 &mu;s</td><td>1.6392 &mu;s</td><td>8.200 &mu;s</td><td>1.89</td><td>0.39</td><td>896 B</td><td>NA</td>
</tr><tr><td>ProcessPayloadsWithSpan</td><td>100</td><td>1024</td><td>30.687 &mu;s</td><td>0.6032 &mu;s</td><td>0.5643 &mu;s</td><td>30.800 &mu;s</td><td>7.28</td><td>0.22</td><td>-</td><td>NA</td>
</tr><tr><td>ProcessPayloadsWithMemory</td><td>100</td><td>1024</td><td>29.673 &mu;s</td><td>0.5794 &mu;s</td><td>0.9190 &mu;s</td><td>29.500 &mu;s</td><td>7.04</td><td>0.27</td><td>-</td><td>NA</td>
</tr><tr><td>BuildMetadataStringBuilder</td><td>100</td><td>1024</td><td>1.206 &mu;s</td><td>0.0891 &mu;s</td><td>0.2585 &mu;s</td><td>1.100 &mu;s</td><td>0.29</td><td>0.06</td><td>848 B</td><td>NA</td>
</tr><tr><td>BuildMetadataInterpolation</td><td>100</td><td>1024</td><td>1.751 &mu;s</td><td>0.1143 &mu;s</td><td>0.3281 &mu;s</td><td>1.700 &mu;s</td><td>0.42</td><td>0.08</td><td>1992 B</td><td>NA</td>
</tr><tr><td>BuildMetadataArrayJoin</td><td>100</td><td>1024</td><td>1.656 &mu;s</td><td>0.0896 &mu;s</td><td>0.2543 &mu;s</td><td>1.600 &mu;s</td><td>0.39</td><td>0.06</td><td>848 B</td><td>NA</td>
</tr><tr><td>ProcessBatchWithArrayPool</td><td>500</td><td>256</td><td>18.598 &mu;s</td><td>0.5213 &mu;s</td><td>1.5207 &mu;s</td><td>18.850 &mu;s</td><td>1.01</td><td>0.12</td><td>-</td><td>NA</td>
</tr><tr><td>ProcessBatchWithoutArrayPool</td><td>500</td><td>256</td><td>21.911 &mu;s</td><td>0.7181 &mu;s</td><td>2.0603 &mu;s</td><td>21.900 &mu;s</td><td>1.19</td><td>0.15</td><td>4024 B</td><td>NA</td>
</tr><tr><td>ProcessBatchWithList</td><td>500</td><td>256</td><td>22.373 &mu;s</td><td>0.5806 &mu;s</td><td>1.6090 &mu;s</td><td>22.500 &mu;s</td><td>1.21</td><td>0.13</td><td>4056 B</td><td>NA</td>
</tr><tr><td>ProcessBatchChannelBatchUtilities</td><td>500</td><td>256</td><td>20.751 &mu;s</td><td>0.4847 &mu;s</td><td>1.3592 &mu;s</td><td>20.600 &mu;s</td><td>1.12</td><td>0.12</td><td>4096 B</td><td>NA</td>
</tr><tr><td>ProcessPayloadsWithSpan</td><td>500</td><td>256</td><td>37.925 &mu;s</td><td>0.7314 &mu;s</td><td>0.9511 &mu;s</td><td>37.900 &mu;s</td><td>2.05</td><td>0.17</td><td>-</td><td>NA</td>
</tr><tr><td>ProcessPayloadsWithMemory</td><td>500</td><td>256</td><td>38.657 &mu;s</td><td>0.6078 &mu;s</td><td>0.5388 &mu;s</td><td>38.700 &mu;s</td><td>2.09</td><td>0.17</td><td>-</td><td>NA</td>
</tr><tr><td>BuildMetadataStringBuilder</td><td>500</td><td>256</td><td>1.064 &mu;s</td><td>0.0508 &mu;s</td><td>0.1466 &mu;s</td><td>1.000 &mu;s</td><td>0.06</td><td>0.01</td><td>848 B</td><td>NA</td>
</tr><tr><td>BuildMetadataInterpolation</td><td>500</td><td>256</td><td>1.608 &mu;s</td><td>0.1024 &mu;s</td><td>0.2887 &mu;s</td><td>1.500 &mu;s</td><td>0.09</td><td>0.02</td><td>1992 B</td><td>NA</td>
</tr><tr><td>BuildMetadataArrayJoin</td><td>500</td><td>256</td><td>1.618 &mu;s</td><td>0.0909 &mu;s</td><td>0.2579 &mu;s</td><td>1.600 &mu;s</td><td>0.09</td><td>0.02</td><td>848 B</td><td>NA</td>
</tr><tr><td>ProcessBatchWithArrayPool</td><td>500</td><td>1024</td><td>18.337 &mu;s</td><td>0.5228 &mu;s</td><td>1.5251 &mu;s</td><td>18.000 &mu;s</td><td>1.01</td><td>0.11</td><td>-</td><td>NA</td>
</tr><tr><td>ProcessBatchWithoutArrayPool</td><td>500</td><td>1024</td><td>22.406 &mu;s</td><td>0.8623 &mu;s</td><td>2.4602 &mu;s</td><td>22.100 &mu;s</td><td>1.23</td><td>0.17</td><td>4024 B</td><td>NA</td>
</tr><tr><td>ProcessBatchWithList</td><td>500</td><td>1024</td><td>21.942 &mu;s</td><td>0.4922 &mu;s</td><td>1.3962 &mu;s</td><td>22.000 &mu;s</td><td>1.20</td><td>0.12</td><td>4056 B</td><td>NA</td>
</tr><tr><td>ProcessBatchChannelBatchUtilities</td><td>500</td><td>1024</td><td>20.838 &mu;s</td><td>0.5833 &mu;s</td><td>1.6356 &mu;s</td><td>20.900 &mu;s</td><td>1.14</td><td>0.13</td><td>4096 B</td><td>NA</td>
</tr><tr><td>ProcessPayloadsWithSpan</td><td>500</td><td>1024</td><td>126.303 &mu;s</td><td>2.2891 &mu;s</td><td>3.8246 &mu;s</td><td>125.300 &mu;s</td><td>6.93</td><td>0.58</td><td>-</td><td>NA</td>
</tr><tr><td>ProcessPayloadsWithMemory</td><td>500</td><td>1024</td><td>126.186 &mu;s</td><td>2.4537 &mu;s</td><td>2.9210 &mu;s</td><td>126.400 &mu;s</td><td>6.93</td><td>0.56</td><td>-</td><td>NA</td>
</tr><tr><td>BuildMetadataStringBuilder</td><td>500</td><td>1024</td><td>1.189 &mu;s</td><td>0.0732 &mu;s</td><td>0.2052 &mu;s</td><td>1.100 &mu;s</td><td>0.07</td><td>0.01</td><td>848 B</td><td>NA</td>
</tr><tr><td>BuildMetadataInterpolation</td><td>500</td><td>1024</td><td>1.701 &mu;s</td><td>0.1221 &mu;s</td><td>0.3543 &mu;s</td><td>1.600 &mu;s</td><td>0.09</td><td>0.02</td><td>1992 B</td><td>NA</td>
</tr><tr><td>BuildMetadataArrayJoin</td><td>500</td><td>1024</td><td>1.577 &mu;s</td><td>0.0752 &mu;s</td><td>0.2132 &mu;s</td><td>1.500 &mu;s</td><td>0.09</td><td>0.01</td><td>848 B</td><td>NA</td>
</tr></tbody></table>
</body>
</html>
