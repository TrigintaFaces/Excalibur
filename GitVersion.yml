mode: ContinuousDelivery
assembly-versioning-scheme: MajorMinorPatch
versioning-mode: ContinuousDelivery

# commit-message-increments: This block tells GitVersion
# to look for commit messages containing certain keywords that
# indicate a major/minor patch increment.
# e.g. "feat:" => minor, "fix:" => patch, and "BREAKING CHANGE" => major
# This is how "Conventional Commits" typically do auto-incrementing.
commit-message-increments: enabled

major-version-bump-message: "^(build|chore|ci|docs|feat|fix|perf|refactor|revert|style|test)(\\([\\w\\s-,/\\\\]*\\))?(!:|:.*\\n\\n((.+\\n)+\\n)?BREAKING CHANGE:\\s.+)"
minor-version-bump-message: "^(feat)(\\([\\w\\s-,/\\\\]*\\))?:"
patch-version-bump-message: "^(fix|perf)(\\([\\w\\s-,/\\\\]*\\))?:"

branches:
    main:
        regex: ^(master|main)$
        is-mainline: true
        incremental: false
        prevent-increment-of-merged-branch-version: true

    develop:
        regex: ^develop$
        increment: Minor
        label: alpha

    feature:
        regex: ^feature[/-]
        increment: Inherit
        source-branches: ["develop", "feature", "master", "main"]
        is-release-branch: false

    release:
        regex: ^release[/-]
        is-release-branch: true
        pre-release-weight: 3000
        label: beta

    hotfix:
        regex: ^hotfix[/-]
        is-release-branch: true
        increment: Patch
        label: hotfix

ignore:
    sha: []
    message:
        - "^Merge branch 'main' into develop"
        - "^chore: merge main into develop"
